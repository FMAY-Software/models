-- BP 7.1.6 content: Package syschar: 3 persistence-version: 7.1.6

INSERT INTO EP_PKG
	VALUES ("335cce5c-4a87-414a-9cf5-29925e9dd979",
	"00000000-0000-0000-0000-000000000000",
	"43a51b71-02de-494b-83f2-ec07c5b339f4",
	'Functions',
	'',
	0);
INSERT INTO S_SYNC
	VALUES ("b53438c9-fb94-42c9-b025-52ebd53721ee",
	"00000000-0000-0000-0000-000000000000",
	'reqTestRun',
	'',
	'
// TA2
TIM::set_epoch( year:2020, month:1, day:1 );

// TA3
t1 = TIM::current_clock();
t2 = TIM::current_clock();
timestamp_string = TIM::timestamp_to_string( timestamp:t1 );
if ( timestamp_string != "2020-01-01T00:00:00Z" )
  LOG::LogFailure( message:"TIM::timestamp_to_string failure!" );
end if;

// TA4
epochtime_string = TIM::timestamp_format( ts:t1, format:"yyyy/MM/dd hh:mm:ss" );
if (epochtime_string != "2020/01/01 00:00:00")
  LOG::LogFailure( message:"TIM::timestamp_format failure!" );
end if;

// TA5
if (t1 < t2) or (t1 > t2) or (t1 <= t2) or (t1 >= t2) or (t1 != t2) or (t1 == t2)
else
  LOG::LogFailure( message:"TIM timestamp comparison failure!" );
end if;

// TA6
datetime_minus_datetime = t2 - t1;
if ( datetime_minus_datetime != 0 )
  LOG::LogFailure( message:"TIM datetime subtract datetime failure!" );
end if;

// TA7
datetime_plus_duration = t2 + 1;
if ( datetime_plus_duration != 1 )
  LOG::LogFailure( message:"TIM datetime add duration failure!" );
end if;

// TA8
datetime_minus_duration = t2 - 1;
if ( datetime_minus_duration != 0 )
  LOG::LogFailure( message:"TIM datetime subtract duration failure!" );
end if;

// TA9
time_since_midnight = TIM::time_of_day( timeval:t1 );
if ( time_since_midnight != 0 )
  LOG::LogFailure( message:"TIM::current_date failure!" );
end if;

// TA10 this model
// TA11
// t = TIM::set_time( year:2020, month:11, day:5, hour:8, minute:0, second:0 );
// t = TIM::advance_time( seconds:60 );

// The following demonstrate weaknesses in the existing date bridges.
d1 = TIM::current_date(); // existing bridge returning Date
// d1 = d1 + 1; does not parse
d2 = TIM::current_date(); // existing bridge returning Date
if (d1 < d2) or (d1 > d2) or (d1 <= d2) or (d1 >= d2) or (d1 != d2) or (d1 == d2)
else
  LOG::LogFailure( message:"TIM date comparison failure!" );
end if;

',
	"ba5eda7a-def5-0000-0000-000000000000",
	1,
	'',
	0);
INSERT INTO PE_PE
	VALUES ("b53438c9-fb94-42c9-b025-52ebd53721ee",
	1,
	"335cce5c-4a87-414a-9cf5-29925e9dd979",
	"00000000-0000-0000-0000-000000000000",
	1);
INSERT INTO S_SYNC
	VALUES ("a2693ebc-15e2-44f0-9ab1-a0a66dddb840",
	"00000000-0000-0000-0000-000000000000",
	'testrun',
	'',
	'create object instance baby of MME;
LOG::LogInfo( message:"Birthday before epoch set: " + baby.myString );
::reqTestRun();
create object instance epochBaby of MME;
LOG::LogInfo( message:"Birthday after epoch set: " + epochBaby.myString );',
	"ba5eda7a-def5-0000-0000-000000000000",
	1,
	'',
	0);
INSERT INTO PE_PE
	VALUES ("a2693ebc-15e2-44f0-9ab1-a0a66dddb840",
	1,
	"335cce5c-4a87-414a-9cf5-29925e9dd979",
	"00000000-0000-0000-0000-000000000000",
	1);
INSERT INTO PE_PE
	VALUES ("335cce5c-4a87-414a-9cf5-29925e9dd979",
	1,
	"00000000-0000-0000-0000-000000000000",
	"9e468b99-6235-49e8-b4c3-26287a2f7f96",
	7);
INSERT INTO C_C_PROXY
	VALUES ("9e468b99-6235-49e8-b4c3-26287a2f7f96",
	"00000000-0000-0000-0000-000000000000",
	"00000000-0000-0000-0000-000000000000",
	'EpochUser',
	'',
	0,
	"00000000-0000-0000-0000-000000000000",
	0,
	'',
	'../EpochUser.xtuml');
INSERT INTO S_SYS_PROXY
	VALUES ("43a51b71-02de-494b-83f2-ec07c5b339f4",
	'EpochTest',
	1,
	'../../../EpochTest.xtuml');
